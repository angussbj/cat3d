(this.webpackJsonpcat3d=this.webpackJsonpcat3d||[]).push([[0],{79:function(e,t,n){},91:function(e,t,n){},96:function(e,t,n){"use strict";n.r(t);var r=n(0),c=n.n(r),o=n(31),i=n.n(o),a=(n(79),n(20)),s=n(13),u=n(10);n(57),n(118);var l=n(21),j=n.n(l),d={DARKEST:j()("#0d1416"),DARKER:j()("#1d2426"),DARK:j()("#283134"),LIGHT:j()("#f7f9f9"),GREY:j()("#CCCCCC"),FOCUS:j()("#5577FF"),ACCENT_BLUE:j()("#5ed6ff"),ACCENT_ORANGE:j()("#FF875E"),SUPER_ACCENT:j()("#ff6e3d"),RED:j()("#FF0000"),BLUE:j()("#0000FF"),TRANSPARENT:j()("#000000").alpha(0),BLACK:j()("#000000"),WHITE:j()("#FFFFFF"),LIGHTING:{WARM:j()("#FFCCCC"),NEUTRAL:j()("#E5CCE5"),COLD:j()("#CCCCFF")}};var b,O,f=n(32),h=n(33);h.a.div(b||(b=Object(f.a)(["\n  display: flex;\n  flex-direction: column;\n"])));h.a.div(O||(O=Object(f.a)(["\n  display: flex;\n  flex-direction: row;\n  align-items: center;\n"])));var v,C=n(8);h.a.div(v||(v=Object(f.a)(["\n  -webkit-touch-callout: none;\n  -webkit-user-select: none;\n  -khtml-user-select: none;\n  -moz-user-select: none;\n  -ms-user-select: none;\n  user-select: none;\n"]))),n(91);n(18);n(117);var g=n(7);function m(){for(var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:.05,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:12,n=[],r=0;r<=t;r++)n.push(new g.Vector2(e*Math.sin(r*Math.PI/t),-e*Math.cos(r*Math.PI/t)));return new g.LatheGeometry(n,2*t)}var w=n(14),x=n(70),p=Object(r.createContext)({setCurrentlyDragging:function(){},setOnBackgroundClick:function(){},setControlMode:function(){},controlMode:"view"});function y(e){var t=e.children,n=e.environment;return Object(u.jsx)(p.Provider,{value:n,children:t})}function F(){return Object(r.useContext)(p)}var R=function(e){var t=e.children,n=e.initialPosition,c=void 0===n?new g.Vector3(0,0,0):n,o=Object(r.useRef)(null),i=F().setCurrentlyDragging,a=Object(w.k)(),l=a.camera,j=a.size,d=Object(r.useMemo)((function(){return new g.Raycaster}),[]),b=Object(r.useRef)(new g.Plane(new g.Vector3(0,0,1))),O=Object(r.useRef)(new g.Vector3(0,0,0));Object(r.useEffect)((function(){o.current&&o.current.position.copy(c)}),[]);var f=Object(r.useCallback)((function(e,t){var n=new g.Vector2(e/j.width*2-1,-t/j.height*2+1),r=new g.Vector3;return d.setFromCamera(n,l),d.ray.intersectPlane(b.current,r),r}),[]),h=Object(x.a)((function(e){var t=Object(s.a)(e.xy,2),n=t[0],r=t[1],c=e.first,a=e.last;if(e.event.stopPropagation(),c){var u,j;i(!0);var d=new g.Vector3;l.getWorldDirection(d),b.current.setFromNormalAndCoplanarPoint(d,(null===(u=o.current)||void 0===u?void 0:u.position)||new g.Vector3(0,0,0)),O.current=(null===(j=o.current)||void 0===j?void 0:j.position.clone().sub(f(n,r)))||new g.Vector3(0,0,0)}a&&i(!1),o.current&&o.current.position.copy(f(n,r).add(O.current))}));return Object(u.jsx)("group",Object(C.a)(Object(C.a)({},h()),{},{ref:o,children:t}))};function E(){var e=Object(r.useState)([new g.Vector3(0,0,0)]),t=Object(s.a)(e,2),n=t[0],c=t[1],o=F().setOnBackgroundClick,i=Object(w.k)(),l=i.camera,j=i.size,b=Object(r.useMemo)((function(){return new g.Raycaster}),[]),O=Object(r.useMemo)((function(){return new g.Plane(new g.Vector3(0,1,0))}),[]);return Object(r.useEffect)((function(){return o((function(){return function(e){if(!(e.ctrlKey||e.altKey||e.metaKey||e.shiftKey||e.button>1)){var t=new g.Vector2(e.x/j.width*2-1,-e.y/j.height*2+1),n=new g.Vector3;b.setFromCamera(t,l),b.ray.intersectPlane(O,n),c((function(e){return[].concat(Object(a.a)(e),[n])}))}}}))}),[o]),Object(u.jsx)(u.Fragment,{children:n.map((function(e,t){return Object(u.jsx)(R,{initialPosition:e,children:Object(u.jsx)("mesh",{geometry:m(1),receiveShadow:!0,children:Object(u.jsx)("meshStandardMaterial",{attach:"material",color:d.DARK.toString(),emissive:d.DARK.toString(),emissiveIntensity:0,roughness:.5})})},t)}))})}var S=n(37),A=function(){return Object(u.jsxs)(u.Fragment,{children:[Object(u.jsx)("ambientLight",{intensity:.45}),Object(u.jsx)("directionalLight",{position:[0,0,20],color:d.LIGHTING.WARM.toString(),castShadow:!0}),Object(u.jsx)("directionalLight",{position:[17,0,-10],color:d.LIGHTING.COLD.toString(),castShadow:!0}),Object(u.jsx)("directionalLight",{position:[-17,0,-10],color:d.LIGHTING.NEUTRAL.toString(),castShadow:!0})]})},L=n(119);function M(e){var t=e.children,n=Object(r.useState)(!1),c=Object(s.a)(n,2),o=c[0],i=c[1],a=Object(r.useState)("view"),l=Object(s.a)(a,2),j=l[0],b=l[1],O=Object(r.useState)((function(){})),f=Object(s.a)(O,2),h=f[0],v=f[1];return Object(u.jsx)("div",{style:{position:"absolute",left:0,right:0,top:0,bottom:0},children:Object(u.jsx)(y,{environment:{setCurrentlyDragging:i,setOnBackgroundClick:v,setControlMode:b,controlMode:j},children:Object(u.jsxs)(S.a,{style:{background:d.BLACK.toString()},camera:{position:[0,0,10]},onPointerMissed:h,shadows:!0,children:[Object(u.jsx)("gridHelper",{args:[20,20]}),Object(u.jsx)(A,{}),t,!o&&"view"==j&&Object(u.jsx)(L.a,{autoRotate:!1})]})})})}var k=function(){return Object(u.jsx)(M,{children:Object(u.jsx)(E,{})})};i.a.render(Object(u.jsx)(c.a.StrictMode,{children:Object(u.jsx)(k,{})}),document.getElementById("root"))}},[[96,1,2]]]);
//# sourceMappingURL=main.605f14f5.chunk.js.map